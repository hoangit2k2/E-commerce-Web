<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta subject="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <!-- Fontawesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
        integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Angular JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular-route.min.js"></script>
    <!-- Qrcode -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"
        integrity="sha512-CNgIRecGo7nphbeZ04Sc13ka07paqdeTu0WR1IM4kNcpmBAUSHSQX0FslNhTDadL4O5SAGapGt4FodqL8My0mA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- ----------------------------------- -->
    <link rel="stylesheet" href="css/display.css">
    <title>ADMIN - Content manager</title>
</head>

<body>
    <div class="container-xl border-start border-end border-danger border-3">
        
        <!-- Phần demo cho giao diện trang chủ -> thay vào index.html#("any") = <main>...</main> -->
        <nav class="navbar navbar-expand-lg bg-light">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">Navbar</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Dropdown
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><hr class="dropdown-divider"></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link disabled">Disabled</a>
                  </li>
                </ul>
                <form class="d-flex" role="search">
                  <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                  <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
              </div>
            </div>
        </nav>

        <!-- Phần demo cho giao diện trang chủ -> thay vào index.html#("any") = <main>...</main> -->
        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="true">
            <div class="carousel-indicators">
              <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
              <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg" class="d-block w-100" alt="...">
                  </div>
                <div class="carousel-item">
                <img src="https://www.industrialempathy.com/img/remote/ZiClJf-1920w.jpg" class="d-block w-100" alt="...">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
        </div>

        <!--
            #
            #
            #
            #
            #
            #
            #
            #
            #
            #
         -->
        <!-- SOURCE __________________________________________________________________________COPY ĐOẠN NÀY XUỐNG -->
        <main ng-app="app" ng-controller="control">
            <h1 class="text-center text-uppercase">content detail</h1>
    
            <div class="row border-top bg-light">
                <!-- Show images -->
                <div class="col-xl-6">
                    <div class="d-flex flex-wrap align-content-between">
                        <h3 class="text-break" ng-bind="entity.subject" style="text-align: justify;"></h3>
                        <div ng-if="entity.content_images.length > 0" class="m-auto mt-1 w-100">
                            <!-- carousel images -->
                            <div id="contentImage" class="carousel slide rounded-3 flex-fill" data-bs-ride="true">
                                <div class="carousel-inner">
                                    <div class="carousel-item {{i==0 ? 'active' : ''}} ar16x9" ng-repeat="(i,image) in entity.content_images">
                                        <img ng-src="{{getImage(image)}}" class="fit-img o-fit-cover" id="showImage" alt="{{image}}">
                                        <div class="w-100 border overflow-auto text-center">
                                            <label class="text-muted text-nowrap" ng-bind="image ? image : 'default image'"></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="w-100 border text-nowrap overflow-auto" ng-if="entity.content_images.length > 1">
                                <button type="button" data-bs-target="#contentImage" data-bs-slide-to="{{i}}" class="btn size-5 p-1 ar4x3 {{e.active}}"
                                    ng-repeat="(i,image) in entity.content_images">
                                    <img class="fit-img o-fit-cover" ng-src="{{getImage(image)}}" alt="{{image}}">
                                </button>
                            </div>
                        </div>
                        <div class="w-100 ar4x3" ng-if="1 > entity.content_images.length">
                            <img class="fit-img" style="object-fit: contain;" ng-src="{{getImage('default.png')}}" alt="default.png" title="Nội dung này chưa có ảnh">
                        </div>
                    </div>
                </div>
                <!-- Content description -->
                <div class="col-xl-6 fs-3">
                    <p class="mt-1" style="text-align: justify;">
                        <strong>Mô tả:</strong>&nbsp;{{entity.content}}
                    </p>
                    <p class="mt-1" >
                        <div class="fw-bold">Thời gian tải:</div>
                        {{entity.regTime | date :'EEEE, dd-MM-yyyy (hh:mm:ss)'}}
                    </p>
                    <p class="mt-1" >
                        <strong>Lượt xem:</strong>
                        <u>{{entity.views}}</u>
                    </p>
    
                    <hr>
                    <p class="mt-1" style="text-align: justify;">
                        <div class="">
                            <label class="fw-bold">Họ Tên</label>
                            <a href="" title="Các sản phẩm liên quan của {{entity.account.name}}"
                                ng-if="entity.account" ng-click="getTo('account?account_id='+entity.account.username,'r_contents')">
                                {{entity.account.name}}
                            </a>
                        </div>
                        <div class="">
                            <label class="fw-bold">Liên hệ</label>
                            <a href="mailto:{{entity.account.email}}" ng-bind="entity.account.email" 
                                title="Liên hệ tới email {{entity.account.email}}"></a>
                        </div>
                    </p>
    
                    <hr>
                    <p class="mt-1" style="text-align: justify;">
                        <div><b>Nội dung cùng loại:</b></div>
                        <a class="ms-2" style="cursor: pointer;" ng-click="r_contents=fil.page=null">
                            <span class="fa-hashtag">Tất cả</span>
                        </a>
                        <a class="ms-2" style="cursor: pointer;" 
                            ng-click="getTo('category?category_id='+e.id, 'r_contents', fil.page=null)" 
                            ng-repeat="e in categories | fil2Many:{id:entity.categories}">
                            <span class="fa-hashtag" ng-bind="e.name"></span>
                        </a>    
                    </p>
                </div>
            </div>
            
            <!-- recommended contents -->
            <h1>Nội dung đề xuất</h1>
            <div class="mt-1 d-flex flex-wrap border-top">
                <!-- <div ng-repeat="e in r_contents">
                    <button ng-click="read(e)" ng-bind="e.id"></button>
                    {{e.subject}}
                </div> -->
    
                <div class="position-relative p-1 text-center size-5 ar4x3 hover-box" ng-dblclick="read(e)"
                    ng-repeat="e in (r_contents ? r_contents : data) | limitTo:10:10*fil.page">
                    <!-- Subject and content's avatar -->
                    <h5 class="text-nowrap overflow-hidden" style="text-overflow: ellipsis;" ng-bind="e.subject"></h5>
                    <img class="fit-img" style="object-fit: cover;" alt="{{e.content_images[0]}}"
                        ng-src="{{getImage(e.content_images[0])}}" ng-if="hasImg = e.content_images.length>0">
                    <img style="vertical-align: middle;" alt="default.png" 
                        ng-src="{{getImage('default.png')}}" ng-if="!hasImg">
                    
                    <!-- Show account and related products control bar -->
                    <div class="m-1 position-absolute bottom-0 end-0 text-end showA text-nowrap p-1">
                        <a style="display: none;" href="mailTo:{{e.account.email}}" class="btn btn-light">Gửi email</a>
                        <a style="display: none;" href="" class="btn btn-light" ng-click="getTo('account?account_id='+e.account.username,'r_contents')">Sản phẩm</a>
                        <!-- Show account posted content -->
                        <button class="btn p-0 ar1x1">
                            <img class="fit-img o-fit-cover accountAvatar"
                                ng-src="{{getImage(e.account.image ? e.account.image : 'default.png','account')}}" 
                                alt="{{e.account.image}}" title="{{e.account.name}}">
                        </button>
                    </div>
                </div>
    
                <!-- Show pages control -->
                <div class="mt-1 w-100 border-top border-bottom text-center bg-light">
                    <span ng-if="fil.maxPage=((r_contents ? r_contents : data).length/10 | number:0)"></span>
                    <div class="btn-group w-50">
                        <button class="btn btn-outline-primary ms-1 me-1" ng-click="fil.page = 0">
                            <i class="fa-solid fa-backward-step"></i>
                        </button>
                        <button class="btn btn-outline-primary ms-1 me-1" ng-click="fil.page = fil.page-1" ng-disabled="1>fil.page">
                            <i class="fa-solid fa-chevron-left"></i>
                        </button>
                        <button class="btn btn-outline-primary ms-1 me-1" ng-click="fil.page = fil.page+1" ng-disabled="fil.page>fil.maxPage-1">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                        <button class="btn btn-outline-primary ms-1 me-1" ng-click="fil.page = fil.maxPage">
                            <i class="fa-solid fa-forward-step"></i>
                        </button>
                    </div>
                </div>
            </div>
    
            <!-- Show message -->
            <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1100;">
                <div id="liveToast" class="toast bg-gradient bg-opacity-75 {{mes.b}}" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
                    <div class="toast-header">
                        <strong class="me-auto" ng-bind="mes.t"></strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body fs-5 fw-bold" style="text-align: justify;" ng-bind="mes.c"></div>
                </div>
            </div>
        </main>
        <!-- SOURCE __________________________________________________________________________COPY ĐOẠN NÀY LÊN -->
        <!-- 
            #
            #
            #
            #
            #
            #
            #
            #
            #
            #
         -->

        <!-- Phần demo cho giao diện trang chủ -> thay vào index.html#("any") = <main>...</main> -->
        <div class="mt-3 container-fluid border-top border-secondary border-3">
            <div class="row">
                <div class="col-3 bg-warning text-center text-vr">
                    <h3>NỘI DUNG QUẢNG CÁO</h3>
                </div>
                <div class="col-6 d-flex flex-wrap align-items-center">
                    <h3>Phần này sau cho dữ liệu <em>Quảng cáo, giới thiệu, quy trình....</em>vào dưới 🐲o((>ω< ))o🐬</h3>
                    <iframe class="w-100 ar16x9" src="https://www.youtube.com/embed/X5WoWeoSSX4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <div class="col-3 bg-warning text-center text-vr">
                    <h3>LỰA CHỌN NỘI DUNG</h3>
                </div>
            </div>
        </div>

        <!-- Phần demo cho giao diện trang chủ -> thay vào index.html#("any") = <main>...</main> -->
        <div class="mt-3 container-fluid border-top border-secondary border-3">
            <footer class="row" style="max-height: 20vh;">
                <div class="col-3 text-center text-vr">
                    <h3 class="text-break" style="transform: rotate(180deg);">footer</h3>
                </div>
                <div class="col-6 text-center">
                    <hr>
                    <hr>
                    <hr>
                    <hr>
                    <hr>
                </div>
                <div class="col-3 text-center">
                    link<br>link<br>link<br>link<br>link
                </div>
            </footer>
        </div>

        <!-- 
            #
            #
            #
            #
            #
            #
            #
            #
            #
            #
         -->
        <!-- SOURCE __________________________________________________________________________COPY ĐOẠN NÀY XUỐNG -->
        <!-- Javascript -->
        <script src="js/rrs.js"></script>
        <script src="js/content_detail.js"></script>
        <!-- SOURCE __________________________________________________________________________COPY ĐOẠN NÀY LÊN -->
    </div>
    
</body>

</html>