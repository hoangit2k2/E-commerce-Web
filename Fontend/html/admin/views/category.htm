<main ng-controller="categoryControl">
  <h1 class="p-3 text-center font-effect-fire-animation">Quản lý phân loại sản phẩm</h1>
  <div class="container-fluid">

    <!-- Show detail-->
    <div class="d-flex p-2 flex-wrap align-items-center justify-content-center border-start border-end border-info">
      <div class="col-lg-3 position-relative">
        <img class="fit-img o-fit-cover" ng-src="{{getImage(entity.image)}}" alt="{{entity.image}}" id="showImage">
        <div class="p-1 bg-dark bg-opacity-25">{{entity.image}}</div>
      </div>
      <form class="form p-3 col-lg-9">
        <h3 class="text-warning text-center" ng-if="entity.name">Thông tin "{{entity.name}}"</h3>
        <div class="row align-items-end mt-1 bg-transparent">
          <div class="col-lg-2">
            <label class="form-label fw-bold">id</label>
            <input class="form-control text-center" ng-value="entity.id" disabled>
          </div>
          <div class="col-lg-10">
            <label class="form-label fw-bold">name</label>
            <input class="form-control" ng-model="entity.name">
          </div>
          <div class="mt-1 col-lg-12">
            <label class="form-label fw-bold">image</label>
            <span ng-bind="entity.image"></span>
          </div>
        </div>
        <div class="mt-3 pt-3 border-top d-flex flex-wrap text-nowrap justify-content-end align-items-center">
          <div class="col-lg-6 me-auto ">
            <input type="file" name="files" accept="image/png, image/jpeg" class="button-89 w-100"
              style="margin: 0 !important;" onchange="angular.element(this).scope().setImage(event)" id="prepareImg">
          </div>
          <button class="m-1 btn btn-primary" ng-click="post('categories','id', 'imagecategory')">Thêm</button>
          <button class="m-1 btn btn-warning" ng-click="put('categories','id','imagecategory')">Sửa</button>
          <button class="m-1 btn btn-danger" ng-click="delete(entity.id,'categories','id','imagecategory')">Xóa</button>
          <button class="m-1 ms-lg-3 btn btn-secondary" ng-click="clear2(entity)">làm mới</button>
        </div>
      </form>
    </div>

    <!-- Show data -->
    <table class="table table-hover table-info table-striped" style="vertical-align: middle;">
      <thead>
        <tr>
          <th>image</th>
          <th>id</th>
          <th>name</th>
          <th>control</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="(i,x) in data" ng-dblclick="read(x)">
          <td>
            <img style="width: 64px;" class="o-fit-cover" ng-src="{{getImage(x.image)}}" alt="{{x.image}}">
          </td>
          <td>{{x.id}}</td>
          <td>{{x.name}}</td>
          <td class="text-end">
            <button class="btn btn-outline-danger" ng-click="delete(x.id,'categories','id','imagecategory')">delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</main>